"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var LZCookieConsentSuppress=window.LZCookieConsentSuppress||!1,LZWebsite=(window.LZActiveGroups="",window.LZWebsite||{});LZWebsite.cookieConsent=LZWebsite.cookieConsent||{},LZWebsite.cookieConsent.CategoryTypes={Init:"init",CatchAll:"catchAll",StrictlyNecessary:"C0001",Performance:"C0002",Functional:"C0003",Targeting:"C0004",Engagement:"C0005"},LZWebsite.cookieConsent.isSuppressed=!1,LZWebsite.cookieConsent.isFirstTimeVisitor=!1,window.LZCCBypass="false",LZWebsite.cookieConsent.currentActiveGroupResponse="",LZWebsite.cookieConsent.previousActiveGroupResponse="",LZWebsite.cookieConsent.country="US",LZWebsite.cookieConsent.isGDPR=!1,window.LZWebsite=window.LZWebsite||{},LZWebsite.cookieConsent=LZWebsite.cookieConsent||{},LZWebsite.cookieConsent.ActiveGroups=function(){function e(){_classCallCheck(this,e),this.cc=LZWebsite.cookieConsent,this.getActiveGroups=this.getActiveGroups.bind(this),this.overrideActiveGroups=this.overrideActiveGroups.bind(this),this.isCategoryActive=this.isCategoryActive.bind(this),this.detectChangeInActiveGroups=this.detectChangeInActiveGroups.bind(this),this.overrideAndRefreshActiveGroups=this.overrideAndRefreshActiveGroups.bind(this)}return _createClass(e,[{key:"getActiveGroups",value:function(){var e,t=window.OptanonActiveGroups;return t=void 0===t&&((e=this.cc.readCookie("OptanonConsent"))&&(e=e.match(/groups=([(C|BG)\d:,]+)/gi))&&1===e.length&&(e=e[0].match(/(C\d{1,}:1)/gi))&&e.length&&(t=",",e.forEach(function(e){t+=e.replace(":1","")+","})),void 0===t)?",,":t}},{key:"overrideActiveGroups",value:function(){var e=this.getActiveGroups(),t=[];",,"!==e&&void 0!==e||(this.cc.isFirstTimeVisitor=!0,t.push(this.cc.CategoryTypes.StrictlyNecessary),"US"!==this.cc.country&&this.cc.isGDPR)||t.push(this.cc.CategoryTypes.Performance,this.cc.CategoryTypes.Functional,this.cc.CategoryTypes.Targeting,this.cc.CategoryTypes.Engagement),window.LZActiveGroups=0<t.length?","+t.join(",")+",":e,window.OptanonActiveGroups=window.LZActiveGroups}},{key:"isCategoryActive",value:function(e){return-1<((1<arguments.length&&void 0!==arguments[1]?arguments[1]:null)||this.getActiveGroups()).indexOf(","+e+",")}},{key:"wasDeactivated",value:function(e){e=this._getCategoryState(e);return e.previous&&!e.current}},{key:"wasActivated",value:function(e){e=this._getCategoryState(e);return!e.previous&&e.current}},{key:"detectChangeInActiveGroups",value:function(){var e;this.wasDeactivated(this.cc.CategoryTypes.Engagement)&&this.retriggerTealium(),this.wasDeactivated(this.cc.CategoryTypes.Performance)&&"object"===_typeof(window.gaData)&&(e=Object.keys(window.gaData),(e="object"===_typeof(window.google_tag_manager)&&window.google_tag_manager.gcq&&window.google_tag_manager.gcq.m?e.concat(Object.keys(window.google_tag_manager.gcq.m)):e).forEach(function(e){window["ga-disable-"+e]=!0})),this.wasActivated(this.cc.CategoryTypes.Targeting)&&(window.setSEMKIDCookies?window.setSEMKIDCookies():window.setSEMCookies&&window.setSEMCookies(),this.retriggerTealium()),this.wasDeactivated(this.cc.CategoryTypes.Targeting)&&this.retriggerTealium({ga_allow_ad_features:!1})}},{key:"overrideAndRefreshActiveGroups",value:function(){this.overrideActiveGroups(),this.cc.previousActiveGroupResponse=this.cc.currentActiveGroupResponse,this.cc.currentActiveGroupResponse=this.getActiveGroups()}},{key:"retriggerTealium",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};window.utag&&window.utag.link&&(e["js_page.LZActiveGroups"]=this.getActiveGroups(),window.utag.link(e))}},{key:"_getCategoryState",value:function(e){return{previous:this.isCategoryActive(e,this.cc.previousActiveGroupResponse),current:this.isCategoryActive(e)}}}]),e}(),window.LZWebsite=window.LZWebsite||{},LZWebsite.cookieConsent=LZWebsite.cookieConsent||{},LZWebsite.cookieConsent.Banner=function(){function n(e){_classCallCheck(this,n),this.document=document,this.window=window,this._performanceCategoryId=e.performanceCategoryId}return _createClass(n,[{key:"bannerEl",get:function(){return this.document.getElementById(n.BannerElId)}},{key:"chatButtonElList",get:function(){return[].slice.call(this.document.querySelectorAll(".custom-chat-instance, .glo-chat"))}},{key:"fixedCCBannerElList",get:function(){return[].slice.call(this.document.querySelectorAll(".cc-banner-fixed-el"))}},{key:"isBannerOpen",get:function(){return!!this.window.Optanon&&!this.window.Optanon.IsAlertBoxClosed()}},{key:"isIOsORSafari",get:function(){return!!this.window.navigator.platform.match(/iPhone|iPod|iPad/)||/^((?!chrome|android).)*safari/i.test(this.window.navigator.userAgent)}},{key:"trackingDataList",get:function(){var e=this;return[{category:"Banner Choice",selector:"#onetrust-consent-sdk #onetrust-pc-btn-handler",label:function(){return"Banner : My Options"}},{category:"Banner Choice",selector:"#onetrust-consent-sdk #onetrust-accept-btn-handler",label:function(){return"Banner : Accept Cookies"}},{category:"Banner Choice",selector:"#onetrust-consent-sdk #accept-recommended-btn-handler",label:function(){return"Modal : Allow All"}},{category:"Banner Choice",selector:"#onetrust-consent-sdk .save-preference-btn-handler",label:function(){return"Modal : Confirm My Choices: "+("true"===document.querySelector(".category-switch-handler#ot-group-id-"+e._performanceCategoryId).getAttribute("checked")?"Opt In":"Opt Out")}}]}}],[{key:"BannerElId",get:function(){return"onetrust-banner-sdk"}}]),_createClass(n,[{key:"setup",value:function(){var e=this;window.addEventListener("resize",function(){e.isBannerOpen&&"true"!==window.LZCCBypass&&e.relocateFixedBannerElements()}),window.LZCookieConsentSuppress?this.hide():(this._ensurePrivacyPolicyOpensInNewTab(),this._buildTrackingEvents()),this._ensureBannerIsPlacedAtBottom()}},{key:"hide",value:function(){var e,t="lz-ot-supress";document.getElementById(t)||((e=this.document.createElement("style")).id=t,e.innerHTML="#"+n.BannerElId+" { display:none !important; }",document.head.appendChild(e))}},{key:"initializeChatButtons",value:function(){function e(){new MutationObserver(function(e,t){e.filter(function(e){return"childList"===e.type&&e.addedNodes.length}).forEach(function(e){[].slice.call(e.addedNodes).some(function(e){return void 0!==e&&("custom-chat-wrapper"===e.id||e.classList&&e.classList.contains("glo-chat"))})&&(n.relocateChatButtons(),t.disconnect())})}).observe(document.body,{childList:!0,attributes:!0})}var n=this;"loading"!==document.readyState?e():window.addEventListener("DOMContentLoaded",e),this.relocateChatButtons()}},{key:"relocateChatButtons",value:function(){var t,e=this.bannerEl;e&&(t=this.isBannerOpen?e.offsetHeight+"px":0,this.chatButtonElList.forEach(function(e){e.style.bottom=t}))}},{key:"relocateFixedBannerElements",value:function(){var e,t=this.bannerEl,n=document.querySelector(".banner-copy-element"),o=this.fixedCCBannerElList;this.isBannerOpen?!n&&t&&((e=document.createElement("div")).classList.add("banner-copy-element"),e.style.bottom=t.offsetHeight+"px",document.body.appendChild(e)):n&&n.parentNode.removeChild(n),0<o.length&&t&&(e=this.isBannerOpen?t.offsetHeight:0,o[0].style.bottom=e+"px")}},{key:"destroy",value:function(){var e=this.document.querySelector("#lz-ot-supress");e&&e.parentNode.removeChild(e)}},{key:"_ensurePrivacyPolicyOpensInNewTab",value:function(){var e=this.document.querySelector("#onetrust-policy-text a");e&&(e.setAttribute("target","_blank"),e.removeAttribute("tabindex"))}},{key:"_buildTrackingEvents",value:function(){this.trackingDataList.forEach(function(e){var t=document.querySelector(e.selector);t&&t.addEventListener("click",function(){LZWebsite.cookieConsent.track({ga_event_action:"click",ga_event_category:e.category,ga_event_label:e.label()})})})}},{key:"_ensureBannerIsPlacedAtBottom",value:function(){var t=this;this.isIOsORSafari&&setTimeout(function(){var e=t.bannerEl;e&&t.isBannerOpen&&(e.style.bottom=0)},1e3)}}]),n}(),window.LZWebsite=window.LZWebsite||{},LZWebsite.cookieConsent=LZWebsite.cookieConsent||{},LZWebsite.cookieConsent.CallbackRegistry=function(){function t(e){_classCallCheck(this,t),this._callbackListByKey={},this._fixedCallbackKeys=[],e&&Array.isArray(e.fixedCallbackKeys)&&(this._fixedCallbackKeys=e.fixedCallbackKeys)}return _createClass(t,[{key:"register",value:function(e,t){var n=this._callbackListByKey[e]||[];n.push(t),this._callbackListByKey[e]=n}},{key:"run",value:function(e){var t=this._callbackListByKey[e],n=-1===this._fixedCallbackKeys.indexOf(e);t&&0<t.length&&t.forEach(function(e){return e()}),n&&(this._callbackListByKey[e]=[])}},{key:"runList",value:function(e){var t=this;e.forEach(function(e){return t.run(e)})}}]),t}(),window.LZWebsite=window.LZWebsite||{},LZWebsite.cookieConsent=LZWebsite.cookieConsent||{},LZWebsite.cookieConsent.GeoLocation=function(){function e(){_classCallCheck(this,e),this._EEA_LIST=["BE","BG","CZ","DK","DE","EE","IE","GR","ES","FR","IT","CY","LV","LT","LU","HU","MT","NL","AT","PL","PT","RO","SI","SK","FI","SE","GB","HR","LI","NO","IS"],this._countryAttribute="lzcountry",this._missingGeoInfo="N/A",this._sentGACookie="ccSentGAGeo"}return _createClass(e,[{key:"checkSentGeoLocation",value:function(){var e=LZWebsite.cookieConsent.readCookie(this._sentGACookie);return!!e&&"true"===e}},{key:"getCountryValue",value:function(){return 0<=window.location.search.indexOf(this._countryAttribute+"=")?LZWebsite.cookieConsent.getQueryStringParams():null}},{key:"initGeoLocation",value:function(){var e=this.getCountryValue();e&&e[this._countryAttribute]?LZWebsite.cookieConsent.country=e[this._countryAttribute]:((e=LZWebsite.cookieConsent.readCookie(this._countryAttribute))||LZWebsite.cookieConsent.track({gaNonInteraction:1,ga_event_action:"cookie_consent",ga_event_category:"exception",ga_event_label:"No Country from Akamai"}),LZWebsite.cookieConsent.country=e||"US",LZWebsite.cookieConsent.writeCookie(LZWebsite.cookieConsent.CategoryTypes.StrictlyNecessary,this._countryAttribute+"="+LZWebsite.cookieConsent.country+"; path=/; domain=.legalzoom.com")),-1<this._EEA_LIST.indexOf(LZWebsite.cookieConsent.country)&&(LZWebsite.cookieConsent.isGDPR=!0)}},{key:"sendGACustomDimension",value:function(){var e;this.checkSentGeoLocation()||void 0===window.Optanon||"function"!=typeof window.Optanon.getGeolocationData||(e=window.Optanon.getGeolocationData(),LZWebsite.cookieConsent.track({gaNonInteraction:1,ga_event_action:"onetrust_sent_geo",ga_event_category:"onetrust_geo",ot_geo:(e&&e.country?e.country:this._missingGeoInfo)+"|"+(e&&e.state?e.state:this._missingGeoInfo)}),LZWebsite.cookieConsent.writeCookie(LZWebsite.cookieConsent.CategoryTypes.Performance,this._sentGACookie+"=true; path=/; domain=.legalzoom.com"))}}]),e}(),function(){function e(){var e=document.getElementById("bbblink");e&&"a"===e.tagName.toLowerCase()&&(e.href="https://www.bbb.org/losangelessiliconvalley/business-reviews/legal-forms/legalzoomcom-in-glendale-ca-13156151#bbbseal",e.target="_blank")}var s=LZWebsite.cookieConsent,a=new s.CallbackRegistry({fixedCallbackKeys:[s.CategoryTypes.CatchAll]}),i=new s.Banner({performanceCategoryId:s.CategoryTypes.Performance}),r=new s.ActiveGroups,t=new s.GeoLocation;s.setup=function(){r.overrideAndRefreshActiveGroups();var t,e=r.isCategoryActive(s.CategoryTypes.Performance),n=(window.optimizely=window.optimizely||[],window.optimizely.push({type:"optOut",isOptOut:!e}),"optimizelyOptOut"),o=s.readCookie(n)||!1;e&&o?s.removeCookie(n):e||o||s.writeCookie(s.CategoryTypes.StrictlyNecessary,n+"=true; path=/; domain=.legalzoom.com; max-age=31104000"),window.utag_cfg_ovrd=window.utag_cfg_ovrd||{},window.utag_cfg_ovrd.nocookie=!e,o=window.self!==window.top,t="cookieGroupsUpdated",o?(window.addEventListener("message",function(e){~e.origin.match(/legalzoom\.com/)&&e.data===t&&window.location.reload()}),LZCookieConsentSuppress=!0):a.register(s.CategoryTypes.CatchAll,function(){if(s.currentActiveGroupResponse!==s.previousActiveGroupResponse)for(var e=0;e<window.frames.length;e+=1)window.frames[e].postMessage(t,"*")}),a.register(s.CategoryTypes.Init,function(){return i.setup()}),a.register(s.CategoryTypes.CatchAll,function(){return i.relocateChatButtons()}),i.initializeChatButtons(),a.register(s.CategoryTypes.CatchAll,r.detectChangeInActiveGroups)},s.isCategoryActive=r.isCategoryActive,s.readCookie=function(e){e=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return e?decodeURIComponent(e[2]):null},s.writeCookie=function(e,t){return r.isCategoryActive(e)&&(document.cookie=t),document.cookie},s.removeCookie=function(e){return s.writeCookie(s.CategoryTypes.StrictlyNecessary,e+"=; domain="+(1<arguments.length&&void 0!==arguments[1]?arguments[1]:".legalzoom.com")+"; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;")},s.getQueryStringParams=function(){var e=window.location.search.substr(1).split("&");if(""===e)return{};for(var t={},n=0;n<e.length;n+=1){var o=e[n].split("=",2);1===o.length?t[o[0]]="":t[o[0]]=decodeURIComponent(o[1].replace(/\+/g," "))}return t},s.insert=function(e,t,n){if(-1===["script","html"].indexOf(t)&&console.warn("type can only be `script` or `html`"),window.Optanon)try{var o="script"===t,i=o?window.Optanon.InsertScript:window.Optanon.InsertHtml,r=o?"head":"body";i.call(window.Optanon,n,r,null,null,e)}catch(e){console.warn(">> Script insert error"),s.track({gaNonInteraction:1,ga_event_action:"cookie_consent",ga_event_category:"exception",ga_event_label:"Script insert error"})}else a.register(e,function(){return s.insert(e,t,n)})},s.triggerCallbacks=function(){r.overrideAndRefreshActiveGroups(),i.relocateFixedBannerElements(),a.runList([s.CategoryTypes.Init].concat(_toConsumableArray(s.currentActiveGroupResponse.split(",")),[s.CategoryTypes.CatchAll]))},s.suppressBanner=function(){i.hide()},s.track=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(!(5<=n))try{var e=window.utag.cond&&window.utag.cond[436]?[450,533,979,986,987]:[];e.length&&window.utag.link(t,null,e)}catch(e){setTimeout(function(){s.track(t,n+1)},1e3)}},window.addEventListener("load",function(){a.register(s.CategoryTypes.Targeting,e),s.triggerCallbacks()}),t.initGeoLocation(),s.setup()}(),window.OptanonWrapper=function(){LZWebsite.cookieConsent.triggerCallbacks(),(new LZWebsite.cookieConsent.GeoLocation).sendGACustomDimension()};