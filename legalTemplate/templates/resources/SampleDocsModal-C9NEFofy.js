var y=Object.defineProperty;var j=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var S=(s,a,t)=>a in s?y(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t,w=(s,a)=>{for(var t in a||(a={}))N.call(a,t)&&S(s,t,a[t]);if(j)for(var t of j(a))k.call(a,t)&&S(s,t,a[t]);return s};var u=(s,a,t)=>new Promise((n,l)=>{var i=r=>{try{o(t.next(r))}catch(c){l(c)}},x=r=>{try{o(t.throw(r))}catch(c){l(c)}},o=r=>r.done?n(r.value):Promise.resolve(r.value).then(i,x);o((t=t.apply(s,a)).next())});import{r as p,j as e}from"./index-DlOqfcZ1.js";import{S as F}from"./CheckmarkThin-BqqG0HzY.js";import{i as L,S as D,X as T,C as $}from"./Header-X14z1RYr.js";import{M as E}from"./Modal-BqGgxzW4.js";import{S as z}from"./states-BDSWn5qA.js";import{a as f}from"./cx-lNe0FDi1.js";import{F as m}from"./index.esm-Btxf3p6a.js";const A=(s,a)=>u(void 0,null,function*(){return fetch(`/state-samples/${s}/products/${a}/type/overview`,{method:"GET",headers:{"Content-Type":"application/json"}})}),M=s=>`_${s}`.replace(/_[a-zA-Z]/gi,t=>`${t.replace("_"," ").toUpperCase()}`).replace(/.[^.]*$/,"").replace(/[a-zA-Z]{2}$/,t=>t.toUpperCase()).trim()||s;function _({selected:s,onSelect:a}){return e.jsx(m,{value:s,onChange:a,children:({open:t})=>e.jsxs("div",{className:"relative mt-8",children:[e.jsxs(m.Button,{className:f("relative w-full cursor-default bg-[#f5f6f8] pb-1.5 pl-3 pr-10 text-left text-gray-900 shadow-sm ring-inset ring-gray-300 focus:border-b focus:border-black focus:outline-none focus:ring-brand-600 text-sm leading-6",s?"pb-1.5 pt-0":"py-0"),children:[e.jsx(m.Label,{className:f("inline-block cursor-text bg-[#f5f6f8] font-sans text-base font-normal text-muted",s?"pb-1.5 pt-1":"py-4"),children:"Select state"}),s&&e.jsx("span",{className:"block truncate text-lg",children:s.name}),e.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:e.jsx(D,{})})]}),e.jsx(T,{show:t,as:p.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx(m.Options,{className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-[#f5f6f8] py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none text-sm",children:z.map(n=>e.jsx(m.Option,{className:({active:l})=>f("relative cursor-default select-none py-2 pl-8 pr-4 text-base text-black",l&&"bg-gray-200"),value:n,children:({selected:l})=>e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"block truncate text-base font-normal",children:n.name}),l&&e.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-1.5 text-black",children:e.jsx(F,{className:"h-4 w-4","aria-hidden":"true"})})]})},n.id))})})]})})}function v({files:s,fileListClasses:a}){return e.jsx(e.Fragment,{children:s&&e.jsx("ul",{className:f("gap-4 font-semibold",a),children:s.map(({file:t,name:n},l)=>e.jsx("li",{children:e.jsx($,{className:"text-brand-600 underline",url:t||"",target:"_blank",children:M(n)})},l))})})}function R({variant:s="selectState",title:a,description:t,open:n,setOpen:l,productType:i,files:x=[]}){const[o,r]=p.useState(null),[c,h]=p.useState([]);return p.useEffect(()=>{u(this,null,function*(){if(o&&i){const d=o.name.toLowerCase(),g=yield A(d,i);if(g.ok){const C=yield g.json();h(C)}}}).catch(d=>console.error(d))},[i,o]),e.jsx(e.Fragment,{children:n&&l&&e.jsxs(E,{open:n,setOpen:b=>{r(null),h([]),l(b)},title:a,titleClassName:"flex justify-start text-4xl font-semibold mb-8",position:"center",dialogClass:"z-[101]",panelClass:"bg-white h-[98%] w-[98%] md:w-[600px] md:h-auto",contentClass:"px-12 pb-[4.5rem]",closeIconClass:"w-9 h-9",closeButtonClass:"m-2 mb-0",containerClass:"h-[98%] w-[98%] md:w-[600px] md:h-auto",children:[e.jsx("div",w({className:"justify-left text-base"},L(t))),s==="list"?e.jsx(v,{files:x,fileListClasses:"mt-4 grid grid-cols-2 row-auto list-disc list-outside ml-10 text-sm"}):e.jsxs(e.Fragment,{children:[e.jsx(_,{selected:o,onSelect:r}),e.jsx(v,{files:c,fileListClasses:"mt-8 flex flex-col text-base"})]})]})})}export{R as S};
